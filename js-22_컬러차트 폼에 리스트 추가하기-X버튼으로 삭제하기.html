<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript</title>
    <script>

        document.addEventListener('DOMContentLoaded', () => {
            

            document.querySelector('.btn').addEventListener('click', function(){

                let newP = document.createElement('p')
                let colorName = document.querySelector('.color_name')
                let newTxt = document.createTextNode(colorName.value)
                newP.appendChild(newTxt)

                let newSpan = document.createElement('span')
                let spanTxt = document.createTextNode('X')
                
                newSpan.appendChild(spanTxt)                  // spanTxt를 newSpan의 자식으로 등록
                newSpan.setAttribute('class', 'delete')       // class='delete'
                newP.appendChild(newSpan)                     // newP의 자식으로 newSpan 등록
                                                              // 3개가 한세트


                let colorList = document.querySelector('.color_list')
                // colorList.appendChild(newP)  //appendChild:뒤에 추가
                colorList.insertBefore(newP, colorList.childNodes[0])
                            // ㄴ- insertBefore : 앞에 추가 // ㄴ-- colorList.childNodes[0]: 어디 앞에 추가 할지 모르니 리스트의 0번으로 추가하겠다 (제일 최상단)
                colorName.value = ''

                let delBtns = document.querySelectorAll('.delete')

                for(let i=0; i<delBtns.length; i++) {
                    delBtns[i].addEventListener('click', function() {
                        if(this.parentNode.parentNode) {   // 나의 부모의 부모
                            this.parentNode.parentNode.removeChild(this.parentNode)
                        }
                    })
                }
            })
        })


    </script>

    
    <style>

        .delete {
            margin-left: 100px;
            cursor: pointer;
            opacity: 0.5;
        }

        .delete:hover {
            opacity: 1;
            font-weight: bold;
        }
        
    </style>
</head>
<body>

    <h3>컬러 차트</h3>

    <form action="">
        <input type="text" class="color_name" placeholder="이름" autofocus>
        <button type="button" class="btn">추가</button>
    </form>
    <hr>
    <div class="color_list"></div>
    
</body>
</html>